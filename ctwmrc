# Jack Davidson's ctwm(1) config

NoGrabServer
RestartPreviousState
UsePPosition "on"
Randomplacement "on"
AutoFocusToTransients
SaveWorkspaceFocus

RightTitleButton "/usr/include/X11/bitmaps/xlogo11" = f.delete

Color
{
    BorderColor "slategrey"
    DefaultBackground "rgb:2/a/9"
    DefaultForeground "gray85"
    TitleBackground "rgb:2/a/9"
    TitleForeground "gray85"
    MenuBackground "rgb:2/a/9"
    MenuForeground "gray85"
    MenuBorderColor "slategrey"
    MenuTitleBackground "gray70"
    MenuTitleForeground "rgb:2/a/9"
    IconBackground "rgb:2/a/9"
    IconForeground "gray85"
    IconBorderColor "gray85"
    IconManagerBackground "rgb:2/a/9"
    IconManagerForeground "gray85"
    MapWindowCurrentWorkSpace { "slategray" "#FFFACD" }
}

WindowGeometries {
    "xclock" "240x40-0-0"
}

#ShowIconManager
IconManagerGeometry "360x60-0-0" 2
IconManagerDontShow {
	"xclock"
}

ShowWorkSpaceManager
WorkSpaceManagerGeometry "384x54+0-0" 4
WorkSpaces {
 "1"	{"" "" "#AA80A0" "white" "cross_weave"}
 "2"	{"" "" "#AA80A0" "white" "cross_weave"}
 "3"	{"" "" "#AA80A0" "white" "cross_weave"}
 "4"	{"" "" "#AA80A0" "white" "cross_weave"}
}

#
# Window Rules
#

NoShowOccupyAll
OccupyAll {
    # Desktop Widgets
    "XClock"
}

NoTitle {
    # Desktop Widgets
    "TWM Icon Manager"
    "WorkSpaceManager"
    "xclock"
}

#AlwaysOnTop {
#    # Desktop Widgets
#    "TWM Icon Manager"
#    "WorkSpaceManager"
#    "xclock"
#}

# Motion Based Functions
MoveDelta 3
Function "move-or-lower" { f.move f.deltastop f.lower }
Function "move-or-raise" { f.move f.deltastop f.raise }
Function "move-or-iconify" { f.move f.deltastop f.iconify }

#
# WM bindings - dwm style
#

# workspace selection on ASDF keys
"a"     = mod4  : all : f.gotoworkspace "1"
"s"     = mod4  : all : f.gotoworkspace "2"
"d"     = mod4  : all : f.gotoworkspace "3"
"f"     = mod4  : all : f.gotoworkspace "4"

"space" = mod4|s  : all : f.fullscreenzoom

# Moves window in a direction until it hits another window or the screen border.
"h"     = mod4|s  : all : f.pack "left"
"j"     = mod4|s  : all : f.pack "bottom"
"k"     = mod4|s  : all : f.pack "top"
"l"     = mod4|s  : all : f.pack "right"

"c"     = mod4|s  : window : f.destroy
"q"     = mod4|s  : window : f.quit

# Spawn programs
"Return" = mod4|s : all  : !"xterm &"
"p"     = mod4 : all : !"rofi -show run &"


# Mouse Controls
Button3 = : root : f.menu "defops"

AutoRelativeResize
Button3 = mod4 : window : f.resize

Button1 = mod4 : window|icon|title : f.function "move-or-lower"
Button2 = mod4 : window|icon|title : f.iconify

Button1 = : title : f.function "move-or-raise"
Button2 = : title : f.raiselower

Button1 = : icon : f.function "move-or-iconify"
Button2 = : icon : f.iconify

Button1 = : iconmgr : f.iconify
Button2 = : iconmgr : f.iconify

#
# Menu with essentials.
#
StayUpMenus
IgnoreCaseInMenuSelection

sinclude(HOME/.config/twm-xdg.menu)

menu "defops"
{
	"CTwm"     f.title
	"Applications" f.menu "Applications" # for use with xdg-menu
	"Run..."  !"exec rofi -show run &"
	""        f.nop
	"Web Navigator" !"exec chromium &"
	"Xterm"   !"exec xterm &"
	""        f.nop
	"Preferences" f.menu "preferences"
	""        f.nop
	"Restart" f.restart
	"Log Out"    f.quit
}

# Easy preference shortcuts
menu "preferences"
{
	"Preferences" f.title
	"Display" !"exec arandr &"
}
